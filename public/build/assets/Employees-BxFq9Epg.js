import{r as c,a as r,o as d,e as w,f as v,u as f,m as N,w as j,b as e,g as F,v as O,h as i,t as l,F as h,i as U,j as C,W as m}from"./app-DoBK-YGz.js";import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-C_7NC0HA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DeZozXkY.js";import"./index-c93BP2sl.js";const A={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},B={class:"rounded-lg bg-white p-6 shadow-md"},I={class:"mb-4"},L={class:"overflow-x-auto"},P={class:"w-full border-collapse border text-sm"},T={class:"bg-gray-200"},W={key:0},q={key:0},z={key:0},G={key:0},H=["onClick"],J={class:"p-2"},K=["onClick"],Q=["onClick"],R={class:"p-2"},X={class:"p-2"},Y={class:"p-2"},Z={class:"p-2"},ee={class:"mt-4 flex justify-between text-sm"},te=["disabled"],se={class:"px-3 py-1"},le=["disabled"],oe={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},ae={class:"w-80 rounded-lg bg-white p-4 text-sm shadow-lg"},ue={__name:"Employees",props:{users:Object,filters:Object},setup(a){const $=[{title:"Employees Management",href:"/karyawan"}],b=a,x=c(b.filters.search||""),u=c(b.filters.sortField||"id"),n=c(b.filters.sortOrder||"asc"),p=c(null),y=c(!1),g=o=>{u.value===o?n.value=n.value==="asc"?"desc":"asc":(u.value=o,n.value="asc"),_()},_=()=>{m.get("/employees",{search:x.value,sortField:u.value,sortOrder:n.value},{preserveState:!0})},D=o=>{p.value=o,y.value=!0},E=()=>{y.value=!1,p.value=null},S=o=>{m.get(`/employees/${o.id}/edit`)},M=o=>{confirm(`Are you sure you want to delete ${o.name}?`)&&m.delete(`/employees/${o.id}`)};return(o,t)=>(d(),r(h,null,[w(f(N),{title:"Employees Management"}),w(V,{breadcrumbs:$},{default:j(()=>[e("div",A,[e("div",B,[e("div",I,[F(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),onInput:_,type:"text",placeholder:"Search users...",class:"w-full rounded border px-3 py-1 text-sm"},null,544),[[O,x.value]])]),e("div",L,[e("table",P,[e("thead",null,[e("tr",T,[t[11]||(t[11]=e("th",{class:"p-2"},"Actions",-1)),e("th",{class:"cursor-pointer p-2",onClick:t[1]||(t[1]=s=>g("id"))},[t[7]||(t[7]=i(" ID ")),u.value==="id"?(d(),r("span",W,l(n.value==="asc"?"↑":"↓"),1)):v("",!0)]),e("th",{class:"cursor-pointer p-2",onClick:t[2]||(t[2]=s=>g("name"))},[t[8]||(t[8]=i(" Name ")),u.value==="name"?(d(),r("span",q,l(n.value==="asc"?"↑":"↓"),1)):v("",!0)]),e("th",{class:"cursor-pointer p-2",onClick:t[3]||(t[3]=s=>g("email"))},[t[9]||(t[9]=i(" Email ")),u.value==="email"?(d(),r("span",z,l(n.value==="asc"?"↑":"↓"),1)):v("",!0)]),e("th",{class:"cursor-pointer p-2",onClick:t[4]||(t[4]=s=>g("created_at"))},[t[10]||(t[10]=i(" Created At ")),u.value==="created_at"?(d(),r("span",G,l(n.value==="asc"?"↑":"↓"),1)):v("",!0)])])]),e("tbody",null,[(d(!0),r(h,null,U(a.users.data,s=>(d(),r("tr",{key:s.id,class:"cursor-pointer border-t hover:bg-gray-100",onClick:k=>D(s)},[e("td",J,[e("button",{onClick:C(k=>S(s),["stop"]),class:"mr-2 rounded bg-blue-500 px-2 py-1 text-xs text-white"},"Edit",8,K),e("button",{onClick:C(k=>M(s),["stop"]),class:"rounded bg-red-500 px-2 py-1 text-xs text-white"},"Delete",8,Q)]),e("td",R,l(s.id),1),e("td",X,l(s.name),1),e("td",Y,l(s.email),1),e("td",Z,l(new Date(s.created_at).toLocaleDateString()),1)],8,H))),128))])])]),e("div",ee,[e("button",{onClick:t[5]||(t[5]=s=>f(m).get(a.users.prev_page_url,{},{preserveState:!0})),disabled:!a.users.prev_page_url,class:"rounded bg-gray-300 px-3 py-1 disabled:opacity-50"}," Previous ",8,te),e("span",se,"Page "+l(a.users.current_page)+" of "+l(a.users.last_page),1),e("button",{onClick:t[6]||(t[6]=s=>f(m).get(a.users.next_page_url,{},{preserveState:!0})),disabled:!a.users.next_page_url,class:"rounded bg-gray-300 px-3 py-1 disabled:opacity-50"}," Next ",8,le)])])])]),_:1}),y.value?(d(),r("div",oe,[e("div",ae,[t[16]||(t[16]=e("h2",{class:"mb-2 text-lg font-bold"},"Employee Details",-1)),e("p",null,[t[12]||(t[12]=e("strong",null,"ID:",-1)),i(" "+l(p.value.id),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Name:",-1)),i(" "+l(p.value.name),1)]),e("p",null,[t[14]||(t[14]=e("strong",null,"Email:",-1)),i(" "+l(p.value.email),1)]),e("p",null,[t[15]||(t[15]=e("strong",null,"Created At:",-1)),i(" "+l(new Date(p.value.created_at).toLocaleDateString()),1)]),e("button",{onClick:E,class:"mt-3 rounded bg-red-500 px-3 py-1 text-white"},"Close")])])):v("",!0)],64))}};export{ue as default};
